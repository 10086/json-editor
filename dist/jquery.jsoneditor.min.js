!function(a){var b;!function(){var a=!1,c=/xyz/.test(function(){})?/\b_super\b/:/.*/;b=function(){},b.extend=function(b){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in b)f[g]="function"==typeof b[g]&&"function"==typeof e[g]&&c.test(b[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,b[g]):b[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d}}(),a.fn.jsoneditor=function(b){var c,d=a(this);if("value"===b){if(c=d.data("jsoneditor"),!c)throw"JSON Editor must be instantiated before getting or setting the value";return arguments.length>1?(c.root.setValue(arguments[1]),this):c.root.getValue()}if("destroy"===b)return(c=d.data("jsoneditor"))?(c.schema=null,c.options=null,c.root.destroy(),c=null,d.data("jsoneditor",null),this):this;if("validate"===b){if(c=d.data("jsoneditor"),!c)throw"JSON Editor must be instantiated before trying to validate";return c.root.isValid(arguments[1]),this}b=b||{};var e=b.schema,f=b.startval,g=a.jsoneditor.getEditorClass(e),h=a.jsoneditor.themes[b.theme||a.jsoneditor.theme];if(!h)throw"Unknown theme "+(b.theme||a.jsoneditor.theme);var c={schema:e,options:b,definitions:{},theme:new h,template:b.template};return d.data("jsoneditor",c),c.root=new g({jsoneditor:d,schema:e,container:d}),f&&c.root.setValue(f),this},a.jsoneditor={template:null,theme:"bootstrap2",editors:{},templates:{},themes:{},resolvers:[],expandSchema:function(b,c){if(b.$ref){if(!b.$ref.match(/^#\/definitions\//g))throw"JSON Editor only supports local references to schema definitions defined for the root node";var d=b.$ref.substr(14),e=c.data("jsoneditor").definitions;if(!e[d])throw"Schema definition not found - "+b.$ref;return a.extend(!0,{},e[d])}return b},getEditorClass:function(b,c){b=a.jsoneditor.expandSchema(b,c);var d;if(b.editor?d=b.editor:a.each(a.jsoneditor.resolvers,function(c,e){var f;return(f=e(b))&&a.jsoneditor.editors[f]?(d=f,!1):void 0}),!d)throw"Unknown editor for schema "+JSON.stringify(b);if(!a.jsoneditor.editors[d])throw"Unknown editor "+d;return a.jsoneditor.editors[d]},compileTemplate:function(b,c){c=c||a.jsoneditor.template;var d;if("string"==typeof c){if(!a.jsoneditor.templates[c])throw"Unknown template engine "+c;if(d=a.jsoneditor.templates[c](),!d)throw"Template engine "+c+" missing required library."}else d=c;if(!d)throw"No template engine set";if(!d.compile)throw"Invalid template engine set";return d.compile(b)}},a.jsoneditor.AbstractEditor=b.extend({init:function(b){if(this.container=b.container,this.jsoneditor=b.jsoneditor,this.schema=b.schema,this.schema=a.jsoneditor.expandSchema(this.schema,this.jsoneditor),this.theme=this.jsoneditor.data("jsoneditor").theme,this.template_engine=this.jsoneditor.data("jsoneditor").template,this.schema.definitions){var c=this.jsoneditor.data("jsoneditor").definitions;a.each(this.schema.definitions,function(a,b){c[a]=b})}this.options=a.extend(!0,{},this.options||{},this.schema.options||{},b),b.path||this.schema.id||(this.schema.id="root"),this.path=b.path||this.schema.id,this.schema.id&&this.container.attr("data-schemaid",this.schema.id),this.container.data("editor",this),this.key=this.path.split(".").pop(),this.parent=b.parent,this.build(),this.setValue(this.getDefault())},build:function(){},isValid:function(a){a()},setValue:function(a){this.value=a},getValue:function(){return this.value},refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){this.value=null,this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null},getDefault:function(){return this.schema.default||null},getTheme:function(){return this.theme},getSchema:function(){return this.schema},getContainer:function(){return this.container},getTitle:function(){return this.schema.title||this.schema.id||this.key},getPath:function(){return this.path},getParent:function(){return this.parent},getOption:function(a,b){return"undefined"!=typeof this.options[a]?this.options[a]:b}}),a.jsoneditor.editors.string=a.jsoneditor.AbstractEditor.extend({getDefault:function(){return this.schema.default||""},setValue:function(a,b){a=a||"";var c=this.sanitize(a);this.schema.enum&&this.schema.enum.indexOf(c)<0&&(c=this.schema.enum[0]),this.input.val(c),this.refreshValue(),b&&this.input.trigger("change")},isValid:function(b){var c,d,e,f=[];if(c=!0,"undefined"!=typeof this.schema.minLength&&(d=!0,this.value.length<this.schema.minLength&&(c=!1)),"undefined"!=typeof this.schema.maxLength&&(e=!0,this.value.length>this.schema.maxLength&&(c=!1)),!c){var g;g=d&&e?"Length must be between "+this.schema.minLength+" and "+this.schema.maxLength+".":d?"Length must be at least "+this.schema.minLength+".":"Length must be at most "+this.schema.maxLength+".",f.push({path:this.path,message:g})}if(this.schema.enum&&a.inArray(this.value,this.schema.enum)<0&&f.push({path:this.path,message:"Must be one of "+this.schema.enum.join(", ")}),this.schema.pattern){var h=new RegExp(this.schema.pattern);h.test(this.value)||f.push({path:this.path,message:"Must match pattern: "+this.schema.pattern})}f.length?b(f):b()},build:function(){var b=this;if(this.getOption("compact",!1)||(this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.schema.enum)this.input_type="select",this.input=this.theme.getSelectInput(this.schema.enum);else if(this.schema.format&&"textarea"==this.schema.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if(this.schema.format&&"range"==this.schema.format){this.input_type="range";var c=this.schema.minimum||0,d=this.schema.maximum||Math.max(100,c+1),e=1;this.schema.multipleOf&&(c%this.schema.multipleOf&&(c=Math.ceil(c/this.schema.multipleOf)*this.schema.multipleOf),d%this.schema.multipleOf&&(d=Math.floor(d/this.schema.multipleOf)*this.schema.multipleOf),e=this.schema.multipleOf),this.input=this.theme.getRangeInput(c,d,e)}else this.input_type=this.schema.format?this.schema.format:"text",this.input=this.theme.getFormInputField(this.input_type);this.getOption("compact")&&this.container.addClass("compact"),this.input.attr("data-schemapath",this.path).attr("data-schematype",this.schema.type).on("change keyup",function(c){if(b.schema.template)return a(this).val(b.value),void 0;var d=a(this).val(),e=b.sanitize(d);return d!==e?(c.preventDefault(),c.stopPropagation(),a(this).val(e).trigger("change"),void 0):(b.refreshValue(),void 0)}),this.control=this.getTheme().getFormControl(this.label,this.input,this.description).appendTo(this.container),window.setTimeout(function(){b.theme.afterInputReady(b.input)}),this.schema.template?this.setupTemplate():this.refreshValue()},refreshValue:function(){this.value=this.input.val()},destroy:function(){if(this.vars){var b=this;a.each(this.vars,function(a,c){c.root.off("change",'[data-schemapath="'+c.adjusted_path+'"]',b.var_listener)}),b.var_listener=null}this.template=null,this.vars=null,this.input.remove(),this.label&&this.label.remove(),this.description&&this.description.remove(),this._super()},setupTemplate:function(){if(this.template=a.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.vars={},this.schema.vars){var b=this;this.var_listener=function(){window.setTimeout(function(){b.refresh()})},a.each(this.schema.vars,function(a,c){var d=c.split("."),e=d.shift(),f=b.container.closest('[data-schemaid="'+e+'"]');if(!f.length)throw"Unknown template variable path "+c;var g=f.data("editor").path+"."+d.join(".");b.vars[a]={root:f,path:d,adjusted_path:g},f.on("change",'[data-schemapath="'+g+'"]',b.var_listener)}),b.var_listener()}},sanitize:function(a){return a},refresh:function(){if(this.template){var b={};a.each(this.vars,function(a,c){for(var d=c.root.data("editor").getValue(),e=-1,f=null;;){if(e++,e>=c.path.length){f=d;break}if(!d||"undefined"==typeof d[c.path[e]])break;d=d[c.path[e]]}b[a]=f}),this.setValue(this.template(b),!0)}}}),a.jsoneditor.editors.number=a.jsoneditor.editors.string.extend({getDefault:function(){return this.schema.default||0},sanitize:function(a){return(a+"").replace(/[^0-9\.\-]/g,"")},getValue:function(){return 1*this.value},isValid:function(a){var b=this.getValue();if("number"==typeof b){var c,d,e,f=!0;if("undefined"!=typeof this.schema.minimum&&(c=!0,this.schema.exclusiveMinimum&&b<=this.schema.minimum?f=!1:b<this.schema.minimum&&(f=!1)),"undefined"!=typeof this.schema.maximum&&(d=!0,this.schema.exclusiveMaximum&&b>=this.schema.maximum?f=!1:b>this.schema.maximum&&(f=!1)),"undefined"!=typeof this.schema.multipleOf&&(e=!0,b%this.schema.multipleOf&&(f=!1)),f)a();else{var g;c&&d?(g="Must be between "+this.schema.minimum+" (",g+=this.schema.exclusiveMinimum?"exclusive":"inclusive",g+=") and "+this.schema.maximum+" (",g+=this.schema.exclusiveMaximum?"exclusive":"inclusive",g+=")"):c?(g="Must be greater than ",this.schema.exclusiveMinimum||(g+="or equal to "),g+=this.schema.minimum):d&&(g="Must be less than ",this.schema.exclusiveMaximum||(g+="or equal to "),g+=this.schema.maximum),e&&g?g+=" and divisble by "+this.schema.multipleOf:e&&(g="Must be divisble by "+this.schema.multipleOf),g+=".",a([{path:this.path,message:g}])}}else a([{path:this.path,message:"not a number"}])}}),a.jsoneditor.editors.integer=a.jsoneditor.editors.number.extend({sanitize:function(a){return a+="",a.replace(/[^0-9\-]/g,"")},isValid:function(a){var b=this.getValue();this._super(function(c){c?a(c):b%1===0?a():a([{path:this.path,message:"not an integer"}])})}}),a.jsoneditor.editors.boolean=a.jsoneditor.AbstractEditor.extend({getDefault:function(){return!1},build:function(){var a=this.getContainer();this.getOption("compact",!1)||(this.label=this.theme.getCheckboxLabel(this.getTitle())),this.input=this.theme.getCheckbox(),this.schema.description&&(this.description=this.theme.getCheckboxDescription(this.schema.description)),this.input_holder=this.theme.getFormControl(this.label,this.input,this.description).appendTo(a);var b=this;this.getOption("compact")&&this.container.addClass("compact"),this.input.attr("data-schemapath",this.getPath()).attr("data-schematype",this.schema.type).on("change",function(){b.refreshValue()})},refreshValue:function(){this.value=this.input.prop("checked")},setValue:function(a){a?this.input.prop("checked",!0):this.input.prop("checked",!1),this.refreshValue()},destroy:function(){this.input.remove(),this.label&&this.label.remove(),this.description&&this.description.remove(),this.input_holder.remove(),this.input=this.label=this.description=this.input_holder=null,this._super()},isValid:function(a){a()}}),a.jsoneditor.editors.object=a.jsoneditor.AbstractEditor.extend({getDefault:function(){return a.extend(!0,{},this.schema.default||{})},getChildEditors:function(){return this.editors},build:function(){this.editors={};var b=this;this.getOption("table_row",!1)?(this.editor_holder=this.container,a.each(this.schema.properties,function(c,d){var e=a.jsoneditor.getEditorClass(d,b.jsoneditor),f=b.getTheme().getTableCell().appendTo(b.editor_holder);b.editors[c]=new e({jsoneditor:b.jsoneditor,schema:d,container:f,path:b.path+"."+c,parent:b,compact:!0})})):this.getOption("table",!1)||(this.title=this.getTheme().getHeader(this.getTitle()).appendTo(this.container),this.schema.description&&(this.description=this.getTheme().getDescription(this.schema.description).appendTo(this.container)),this.editor_holder=this.getTheme().getIndentedPanel().appendTo(this.container),a.each(this.schema.properties,function(c,d){var e=a.jsoneditor.getEditorClass(d,b.jsoneditor),f=b.getTheme().getChildEditorHolder().appendTo(b.editor_holder);b.editors[c]=new e({jsoneditor:b.jsoneditor,schema:d,container:f,path:b.path+"."+c,parent:b})}),this.title_controls=this.getTheme().getHeaderButtonHolder().appendTo(this.title),this.collapsed=!1,this.toggle_button=this.getTheme().getButton("hide").appendTo(this.title_controls).on("click",function(){b.collapsed?(b.editor_holder.show(300),b.collapsed=!1,b.getTheme().setButtonText(b.toggle_button,"hide")):(b.editor_holder.hide(300),b.collapsed=!0,b.getTheme().setButtonText(b.toggle_button,"show"))})),b.editor_holder.on("change",function(){b.refreshValue()})},destroy:function(){a.each(this.editors,function(a,b){b.destroy()}),this.editor_holder.empty(),this.title&&this.title.remove(),this.editors=null,this.editor_holder.remove(),this.editor_holder=null,this._super()},refreshValue:function(){this.value={};var b=this;a.each(this.editors,function(a,c){b.value[a]=c.getValue()})},setValue:function(b){b=b||{};a.each(this.editors,function(a,c){"undefined"!=typeof b[a]?c.setValue(b[a]):c.setValue(c.getDefault())}),this.refreshValue()},isValid:function(b){var c=[],d=0;if(a.each(this.editors,function(){d++}),!d)return b();var e=0;a.each(this.editors,function(a,f){f.isValid(function(a){a&&(c=c.concat(a)),e++,e>=d&&(c.length?b(c):b())})})}}),a.jsoneditor.editors.array=a.jsoneditor.AbstractEditor.extend({getDefault:function(){return this.schema.default||[]},build:function(){this.rows=[];var a=this;this.getOption("compact",!1)||(this.title=this.theme.getHeader(this.getTitle()).appendTo(this.container),this.title_controls=this.theme.getHeaderButtonHolder().appendTo(this.title),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description).appendTo(this.container))),this.row_holder=this.theme.getIndentedPanel().appendTo(this.container),this.controls=this.theme.getButtonHolder().appendTo(this.container),this.row_holder.on("change",function(){a.refreshValue()}),this.item_title=this.schema.items.title||this.schema.items.id||this.getTitle();var b=this.getElementEditor(0);b.getChildEditors()&&(this.item_has_child_editors=!0),this.item_default=b.getDefault(),b.destroy(),this.row_holder.empty(),this.addControls()},getItemDefault:function(){return a.extend(!0,{},{"default":this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(b){var c=a.extend({},this.schema.items);c.title=this.getItemTitle()+" "+b;var d,e=a.jsoneditor.getEditorClass(c,this.jsoneditor);d=this.item_has_child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),d.appendTo(this.row_holder);var f=new e({jsoneditor:this.jsoneditor,schema:c,container:d,path:this.path+"."+b,parent:this});return f.array_controls=this.theme.getButtonHolder().appendTo(d),f},destroy:function(){this.empty(),this.title&&this.title.remove(),this.description&&this.description.remove(),this.row_holder&&this.row_holder.remove(),this.rows=this.title=this.description=this.row_holder=null,this._super()},empty:function(){if(this.rows){var b=this;a.each(this.rows,function(a,c){c.destroy(),b.rows[a]=null}),b.rows=[]}},setValue:function(b){if(b=b||[],this.schema.minItems)for(;b.length<this.schema.minItems;)b.push(this.getItemDefault());this.schema.maxItems&&b.length>this.schema.maxItems&&(b=b.slice(0,this.schema.maxItems));var c=this;a.each(b,function(a,b){c.rows[a]?c.rows[a].setValue(b):c.addRow(b)});for(var d=b.length;d<c.rows.length;d++){var e=c.rows[d].container;c.rows[d].destroy(),e.remove(),c.rows[d]=null}c.rows=c.rows.slice(0,b.length),c.refreshValue()},isValid:function(b){var c,d=[],e=this.rows.length;c=!0;var f,g;if("undefined"!=typeof this.schema.maxItems&&(g=!0,e>this.schema.maxItems&&(c=!1)),"undefined"!=typeof this.schema.minItems&&(f=!0,e<this.schema.minItems&&(c=!1)),!c){var h;h=f&&g?"Must have between "+this.schema.minItems+" and "+this.schema.maxItems+" items.":f?"Must have at least "+this.schema.minItems+" items.":"Must have at most "+this.schema.maxItems+" items.",d.push({path:this.path,message:h})}if(this.schema.uniqueItems){var i={};c=!0,a.each(this.rows,function(a,b){var d=JSON.stringify(b.getValue());return i[d]?(c=!1,!1):(i[d]=!0,void 0)}),c||d.push({path:this.path,message:"Must have unique values."})}if(e){var j=0;a.each(this.rows,function(a,c){c.isValid(function(a){a&&(d=d.concat(a)),j++,j>=e&&(d.length?b(d):b())})})}else d.length?b(d):b()},refreshValue:function(){var b=this;this.value=[];var c=this.schema.minItems&&this.schema.minItems>=this.rows.length;a.each(this.rows,function(a,d){a===b.rows.length-1?d.movedown_button.hide():d.movedown_button.show(),c?d.delete_button.hide():d.delete_button.show(),b.value[a]=d.getValue()}),this.value.length?1===this.value.length?(this.remove_all_rows_button.hide(),c?this.delete_last_row_button.hide():this.delete_last_row_button.show()):c?(this.delete_last_row_button.hide(),this.delete_last_row_button.hide()):(this.delete_last_row_button.show(),this.remove_all_rows_button.show()):(this.delete_last_row_button.hide(),this.remove_all_rows_button.hide()),this.schema.maxItems&&this.schema.maxItems<=this.rows.length?this.add_row_button.hide():this.add_row_button.show()},addRow:function(b){var c=this,d=this.rows.length;c.rows[d]=this.getElementEditor(d),c.rows[d].delete_button=this.theme.getButton("Delete "+c.getItemTitle()).addClass("delete").data("i",d).on("click",function(){var b=a(this).data("i"),d=c.getValue(),e=[];a.each(d,function(a,c){a!==b&&e.push(c)}),c.setValue(e),c.container.trigger("change")}),c.rows[d].moveup_button=this.theme.getButton("Move up").data("i",d).addClass("moveup").on("click",function(){var b=a(this).data("i");if(!(0>=b)){var d=c.getValue(),e=d[b-1];d[b-1]=d[b],d[b]=e,c.setValue(d),c.container.trigger("change")}}),c.rows[d].movedown_button=this.theme.getButton("Move down").addClass("movedown").data("i",d).on("click",function(){var b=a(this).data("i"),d=c.getValue();if(!(b>=d.length-1)){var e=d[b+1];d[b+1]=d[b],d[b]=e,c.setValue(d),c.container.trigger("change")}});var e=c.rows[d].title_controls||c.rows[d].array_controls;e&&(e.append(c.rows[d].delete_button),d&&e.append(c.rows[d].moveup_button),e.append(c.rows[d].movedown_button)),b&&c.rows[d].setValue(b)},addControls:function(){var b=this;this.collapsed=!1,this.toggle_button=this.theme.getButton("hide").appendTo(this.title_controls).on("click",function(){b.collapsed?(b.collapsed=!1,b.row_holder.show(300),b.theme.setButtonText(a(this),"hide")):(b.collapsed=!0,b.row_holder.hide(300),b.theme.setButtonText(a(this),"show"))}),this.add_row_button=this.theme.getButton("Add "+this.getItemTitle()).on("click",function(){b.addRow(),b.refreshValue(),b.container.trigger("change")}).appendTo(b.controls),this.delete_last_row_button=this.theme.getButton("Delete Last "+this.getItemTitle()).on("click",function(){var a=b.getValue();a.pop(),b.setValue(a),b.container.trigger("change")}).appendTo(b.controls),this.remove_all_rows_button=this.theme.getButton("Delete All").on("click",function(){b.setValue([]),b.container.trigger("change")}).appendTo(b.controls),this.row_holder.on("sortupdate",function(c,d){var e=d.oldindex,f=d.item.index();if(c.stopPropagation(),c.preventDefault(),e!=f){var g=b.getValue(),h=[],i=g[e],j=e>f;a.each(g,function(a,b){a!==e&&(j?(a===f&&h.push(i),h.push(b)):(h.push(b),a===f&&h.push(i)))}),d.item.detach(),e?b.row_holder.children().eq(e-1).after(d.item):b.row_holder.children().eq(0).before(d.item),b.setValue(h),b.div.trigger("change")}})}}),a.jsoneditor.editors.table=a.jsoneditor.editors.array.extend({build:function(){this.rows=[];var b=this;this.table=this.theme.getTable(),this.thead=this.theme.getTableHead().appendTo(this.table),this.header_row=this.theme.getTableRow().appendTo(this.thead),this.row_holder=this.theme.getTableBody().appendTo(this.table);var c=this.getElementEditor(0);this.item_default=c.getDefault(),this.item_title=this.schema.items.title||this.schema.items.id||this.getTitle(),c.getChildEditors()&&(this.item_has_child_editors=!0,this.getOption("compact",!1)||(this.title=this.theme.getHeader(this.getTitle()).appendTo(this.container),this.title_controls=this.theme.getHeaderButtonHolder().appendTo(this.title),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description).appendTo(this.container)))),this.table.appendTo(this.container),this.controls=this.theme.getButtonHolder().appendTo(this.container),this.item_has_child_editors?a.each(c.getChildEditors(),function(a,c){b.header_row.append(b.theme.getTableHeaderCell().text(c.getTitle()).attr("title",c.schema.title))}):b.header_row.append(b.theme.getTableHeaderCell().text(this.item_title)),c.destroy(),this.row_holder.empty(),b.header_row.append(b.theme.getTableHeaderCell().html("&nbsp;")),this.row_holder.on("change",function(){b.refreshValue()}),this.addControls()},getItemDefault:function(){return a.extend(!0,{},{"default":this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(b){var c=a.extend({},this.schema.items),d=a.jsoneditor.getEditorClass(c,this.jsoneditor),e=this.theme.getTableRow().appendTo(this.row_holder),f=this.item_has_child_editors?e:this.theme.getTableCell().appendTo(e),g=new d({jsoneditor:this.jsoneditor,schema:c,container:f,path:this.path+"."+b,parent:this,compact:!0,table_row:!0});return g.controls_cell=this.theme.getTableCell().appendTo(e),g.row=e,g.table_controls=this.theme.getButtonHolder().appendTo(g.controls_cell),g},destroy:function(){this.empty(),this.title&&this.title.remove(),this.description&&this.description.remove(),this.row_holder&&this.row_holder.remove(),this.table.remove(),this.rows=this.title=this.description=this.row_holder=this.table=null,this._super()},empty:function(){if(this.rows){var b=this;a.each(this.rows,function(a,c){b.item_has_child_editors||c.row.remove(),c.destroy(),b.rows[a]=null}),b.rows=[]}},setValue:function(b){if(b=b||[],this.schema.minItems)for(;b.length<this.schema.minItems;)b.push(this.getItemDefault());this.schema.maxItems&&b.length>this.schema.maxItems&&(b=b.slice(0,this.schema.maxItems));var c=this;a.each(b,function(a,b){c.rows[a]?c.rows[a].setValue(b):c.addRow(b)});for(var d=b.length;d<c.rows.length;d++){var e=c.rows[d].container;c.item_has_child_editors||c.rows[d].row.remove(),c.rows[d].destroy(),e.remove(),c.rows[d]=null}c.rows=c.rows.slice(0,b.length),c.refreshValue()},refreshValue:function(){var b=this;this.value=[];var c=this.schema.minItems&&this.schema.minItems>=this.rows.length;a.each(this.rows,function(a,d){a===b.rows.length-1?d.movedown_button.hide():d.movedown_button.show(),c?d.delete_button.hide():d.delete_button.show(),b.value[a]=d.getValue()}),this.value.length?1===this.value.length?(this.table.show(),this.toggle_button.show(),this.remove_all_rows_button.hide(),c?this.delete_last_row_button.hide():this.delete_last_row_button.show()):(this.table.show(),this.toggle_button.show(),c?(this.delete_last_row_button.hide(),this.delete_last_row_button.hide()):(this.delete_last_row_button.show(),this.remove_all_rows_button.show())):(this.delete_last_row_button.hide(),this.remove_all_rows_button.hide(),this.toggle_button.hide(),this.table.hide()),this.schema.maxItems&&this.schema.maxItems<=this.rows.length?this.add_row_button.hide():this.add_row_button.show()},addRow:function(b){var c=this,d=this.rows.length;c.rows[d]=this.getElementEditor(d),c.rows[d].delete_button=this.theme.getButton("Delete "+c.getItemTitle()).addClass("delete").data("i",d).on("click",function(){var b=a(this).data("i"),d=c.getValue(),e=[];a.each(d,function(a,c){a!==b&&e.push(c)}),c.setValue(e),c.container.trigger("change")}),c.rows[d].moveup_button=this.theme.getButton("Move up").data("i",d).addClass("moveup").on("click",function(){var b=a(this).data("i");if(!(0>=b)){var d=c.getValue(),e=d[b-1];d[b-1]=d[b],d[b]=e,c.setValue(d),c.container.trigger("change")}}),c.rows[d].movedown_button=this.theme.getButton("Move down").addClass("movedown").data("i",d).on("click",function(){var b=a(this).data("i"),d=c.getValue();if(!(b>=d.length-1)){var e=d[b+1];d[b+1]=d[b],d[b]=e,c.setValue(d),c.container.trigger("change")}});var e=c.rows[d].table_controls;e.append(c.rows[d].delete_button),d&&e.append(c.rows[d].moveup_button),e.append(c.rows[d].movedown_button),b&&c.rows[d].setValue(b)},addControls:function(){var b=this;this.collapsed=!1,this.toggle_button=this.theme.getButton("hide").appendTo(this.title_controls).on("click",function(){b.collapsed?(b.collapsed=!1,b.row_holder.show(300),b.theme.setButtonText(a(this),"hide")):(b.collapsed=!0,b.row_holder.hide(300),b.theme.setButtonText(a(this),"show"))}),this.add_row_button=this.theme.getButton("Add "+this.getItemTitle()).on("click",function(){b.addRow(),b.refreshValue(),b.container.trigger("change")}).appendTo(b.controls),this.delete_last_row_button=this.theme.getButton("Delete Last "+this.getItemTitle()).on("click",function(){var a=b.getValue();a.pop(),b.setValue(a),b.container.trigger("change")}).appendTo(b.controls),this.remove_all_rows_button=this.theme.getButton("Delete All").on("click",function(){b.setValue([]),b.container.trigger("change")}).appendTo(b.controls),this.row_holder.on("sortupdate",function(c,d){var e=d.oldindex,f=d.item.index();if(c.stopPropagation(),c.preventDefault(),e!=f){var g=b.getValue(),h=[],i=g[e],j=e>f;a.each(g,function(a,b){a!==e&&(j?(a===f&&h.push(i),h.push(b)):(h.push(b),a===f&&h.push(i)))}),d.item.detach(),e?b.row_holder.children().eq(e-1).after(d.item):b.row_holder.children().eq(0).before(d.item),b.setValue(h),b.div.trigger("change")}})}}),a.jsoneditor.AbstractTheme=b.extend({getFormInputLabel:function(b){return a("<label>").text(b)},getCheckboxLabel:function(a){return this.getFormInputLabel(a)},getHeader:function(b){return a("<h3>").text(b)},getCheckbox:function(){return this.getFormInputField("checkbox")},getSelectInput:function(b){var c=a("<select>");return a.each(b,function(b,d){c.append(a("<option>").attr("value",d).text(d))}),c},getTextareaInput:function(){return a("<textarea>")},getRangeInput:function(b,c,d){return a("<input type='range'>").attr("min",b).attr("max",c).attr("step",d)},getFormInputField:function(b){return a("<input type='"+b+"'>")},afterInputReady:function(){},getFormControl:function(b,c,d){return a("<div>").append(b).append(c).append(d)},getIndentedPanel:function(){return a("<div>").css({paddingLeft:10,marginLeft:10,borderLeft:"1px solid #ccc"})},getChildEditorHolder:function(){return a("<div>")},getDescription:function(b){return a("<p>").text(b)},getCheckboxDescription:function(a){return this.getDescription(a)},getFormInputDescription:function(a){return this.getDescription(a)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return a("<div>")},getButton:function(b){return a("<button>").text(b)},setButtonText:function(a,b){a.text(b)},getTable:function(){return a("<table></table>")},getTableRow:function(){return a("<tr></tr>")},getTableHead:function(){return a("<thead></thead>")},getTableBody:function(){return a("<tbody></tbody>")},getTableHeaderCell:function(){return a("<th></th>")},getTableCell:function(){return a("<td></td>")}}),a.jsoneditor.themes.bootstrap2=a.jsoneditor.AbstractTheme.extend({getRangeInput:function(a,b,c){return this._super(a,b,c)},getSelectInput:function(a){return this._super(a).css({width:"auto"})},afterInputReady:function(a){a.closest(".compact").length&&(a.closest(".control-group").removeClass("control-group"),a.closest(".controls").removeClass("controls"),a.css("margin-bottom",0))},getIndentedPanel:function(){return a("<div></div>").addClass("well well-small")},getFormInputDescription:function(b){return a("<p></p>").addClass("help-inline").text(b)},getFormControl:function(b,c,d){var e,f=a("<div></div>").addClass("control-group");return b&&"checkbox"===c.attr("type")?(e=a("<div></div>").addClass("controls").appendTo(f),b.addClass("checkbox").append(c).appendTo(e)):(b&&b.addClass("control-label").appendTo(f),e=a("<div></div>").addClass("controls").append(c).appendTo(f)),d&&e.append(d),f},getHeaderButtonHolder:function(){return a("<div></div>").addClass("btn-group").css({marginLeft:10})},getButtonHolder:function(){return a("<div></div>").addClass("btn-group")},getButton:function(b){return a("<button></button>").addClass("btn btn-default").text(b)},getTable:function(){return a("<table></table>").addClass("table table-bordered").css({width:"auto",maxWidth:"none"})}}),a.jsoneditor.themes.bootstrap3=a.jsoneditor.AbstractTheme.extend({getSelectInput:function(a){return this._super(a).addClass("form-control").css({width:"auto"})},getTextareaInput:function(){return a("<textarea>").addClass("form-control")},getRangeInput:function(){return this._super()},getFormInputField:function(){return this._super().addClass("form-control")},getFormControl:function(b,c,d){var e=a("<div></div>");return b&&"checkbox"===c.attr("type")?(e.addClass("checkbox"),b.append(c).appendTo(e)):(e.addClass("form-group"),b&&b.appendTo(e),c.appendTo(e)),d&&e.append(d),e},getIndentedPanel:function(){return a("<div>").addClass("well well-sm")},getFormInputDescription:function(b){return a("<p>").addClass("help-block").text(b)},getHeaderButtonHolder:function(){return this.getButtonHolder().css({marginLeft:10})},getButtonHolder:function(){return a("<div>").addClass("btn-group")},getButton:function(b){return a("<button>").addClass("btn btn-default").text(b)},getTable:function(){return a("<table>").addClass("table table-bordered").css({width:"auto",maxWidth:"none"})}}),a.jsoneditor.themes.foundation4=a.jsoneditor.AbstractTheme.extend({getChildEditorHolder:function(){return a("<div>").css({marginBottom:15})},getSelectInput:function(b){var c=a("<select>").css({width:"auto",minWidth:"none",padding:5,marginTop:3});return a.each(b,function(b,d){c.append(a("<option>").attr("value",d).text(d))}),c},afterInputReady:function(a){a.closest(".compact").length&&a.css("margin-bottom",0)},getFormInputDescription:function(b){return a("<p></p>").text(b).css({marginTop:-10,fontStyle:"italic",fontSize:".8rem"})},getFormControl:function(b,c,d){return a("<div>").append(b).append(c).append(d)},getIndentedPanel:function(){return a("<div>").addClass("panel")},getHeaderButtonHolder:function(){return this.getButtonHolder().css({display:"inline-block",marginLeft:10,verticalAlign:"middle",fontSize:".6em"})},getButtonHolder:function(){return a("<div>").addClass("button-group")},getButton:function(b){return a("<button>").addClass("small button").text(b)}}),a.jsoneditor.themes.foundation5=a.jsoneditor.AbstractTheme.extend({getChildEditorHolder:function(){return a("<div>").css({marginBottom:15})},getSelectInput:function(b){var c=a("<select>").css({width:"auto",minWidth:"none"});return a.each(b,function(b,d){c.append(a("<option>").attr("value",d).text(d))}),c},afterInputReady:function(a){a.closest(".compact").length&&a.css("margin-bottom",0)},getFormInputDescription:function(b){return a("<p></p>").text(b).css({marginTop:-10,fontStyle:"italic",fontSize:".8rem"})},getFormControl:function(b,c,d){return a("<div>").append(b).append(c).append(d)},getIndentedPanel:function(){return a("<div>").addClass("panel")},getHeaderButtonHolder:function(){return this.getButtonHolder().css({display:"inline-block",marginLeft:10,verticalAlign:"middle"})},getButtonHolder:function(){return a("<div>").addClass("button-group")},getButton:function(b){return a("<button>").addClass("button tiny").text(b)}}),a.jsoneditor.themes.html=a.jsoneditor.AbstractTheme.extend({}),a.jsoneditor.themes.jqueryui=a.jsoneditor.AbstractTheme.extend({getTable:function(){return a("<table>").attr("cellpadding",5).attr("cellspacing",0)},getTableHeaderCell:function(){return a("<th>").addClass("ui-state-active").css({fontWeight:"bold"})},getTableCell:function(){return a("<td>").addClass("ui-widget-content")},getHeaderButtonHolder:function(){return this.getButtonHolder().css({marginLeft:10,fontSize:".6em",display:"inline-block"})},getFormInputDescription:function(a){return this.getDescription(a).css({display:"inline-block",marginLeft:10})},getDescription:function(b){return a("<p>").css({fontSize:".8em",fontStyle:"italic"}).text(b)},getButtonHolder:function(){return a("<div>").addClass("ui-buttonset").css({fontSize:".7em"})},getFormInputLabel:function(b){return a("<label>").text(b).css({marginRight:"5px"})},getButton:function(b){return a("<button>").addClass("ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only").append(a("<span>").addClass("ui-button-text").text(b))
},setButtonText:function(b,c){a(".ui-button-text",b).text(c)},getIndentedPanel:function(){return a("<div>").addClass("ui-widget-content ui-corner-all").css({padding:"1em 1.4em"})}}),a.jsoneditor.templates.ejs=function(){return window.EJS?{compile:function(a){var b=new EJS({text:a});return function(a){return b.render(a)}}}:!1},a.jsoneditor.templates.handlebars=function(){return window.Handlebars},a.jsoneditor.templates.hogan=function(){return window.Hogan?{compile:function(a){var b=Hogan.compile(a);return function(a){return b.render(a)}}}:!1},a.jsoneditor.templates.markup=function(){return window.Mark&&window.Mark.up?{compile:function(a){return function(b){return Mark.up(a,b)}}}:!1},a.jsoneditor.templates.mustache=function(){return window.Mustache?{compile:function(a){return function(b){return Mustache.render(a,b)}}}:!1},a.jsoneditor.templates.swig=function(){return window.swig},a.jsoneditor.templates.underscore=function(){return window._?{compile:function(a){return function(b){return _.template(a,b)}}}:!1},a.each(a.jsoneditor.templates,function(b,c){return c()?(a.jsoneditor.template=b,!1):void 0}),a.jsoneditor.resolvers.unshift(function(a){return a.type}),a.jsoneditor.resolvers.unshift(function(a){return"array"==a.type&&"table"==a.format?"table":void 0})}(jQuery);